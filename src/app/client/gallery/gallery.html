<section class="bg-gradient-to-b from-white via-emerald-50 to-white  py-16 px-4    flex items-center justify-center">

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 max-w-6xl  lg:grid-cols-4 gap-6" [@categorySwitch]="animationKey">
  @for(image of images; track image; let i = $index){
  <div
    class="group relative cursor-pointer overflow-hidden rounded-xl shadow-lg transform transition-all duration-500 hover:scale-105 hover:shadow-2xl"
    (click)="openModal(i)"
  >
    <!-- Image -->
    <img

      [src]="image?.thumbnailPath"
      loading="lazy"
      class="w-full h-60 object-cover rounded-xl transition-transform duration-500 ease-in-out group-hover:scale-110 group-hover:rotate-1"
    />

    <!-- Overlay on hover -->
    <div
      class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-4 rounded-xl"
    >
      <h3 class="text-white text-lg font-bold transform translate-y-4 group-hover:translate-y-0 transition-all duration-500">
        {{'view-image'|translate}}
      </h3>
    </div>
  </div>
  }
</div>

<!-- Modal -->
  @if (selectedImage){
  <div
    class="fixed inset-0 z-50 flex items-center justify-center bg-black/90"
    (click)="closeModal()"
  >
    <!-- Modal Container -->
    <div
      class="relative w-full h-full flex items-center justify-center"
      (click)="$event.stopPropagation()"
    >
      <!-- Close Button (Always Top Right) -->
      <button
        class="absolute top-4 right-4 z-50 text-white text-3xl p-3 bg-black/60 rounded-full hover:bg-black/80 transition duration-300"
        (click)="closeModal()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
        </svg>
      </button>

      <!-- Previous Arrow -->
      <button
        class="absolute left-4 top-1/2 -translate-y-1/2 z-50 text-white p-3 bg-black/50 rounded-full hover:bg-black/70 transition duration-300 flex items-center justify-center scale-100 hover:scale-110"
        (click)="prevImage($event)"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" class="w-8 h-8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
        </svg>
      </button>

      <!-- Image -->
      <img
        [src]="selectedImage"
        loading="lazy"
        class="max-w-full max-h-full object-contain rounded-xl shadow-2xl transition-transform duration-500 transform scale-95 hover:scale-100"
      />

      <!-- Next Arrow -->
      <button
        class="absolute right-4 top-1/2 -translate-y-1/2 z-50 text-white p-3 bg-black/50 rounded-full hover:bg-black/70 transition duration-300 flex items-center justify-center scale-100 hover:scale-110"
        (click)="nextImage($event)"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" class="w-8 h-8">
          <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
        </svg>
      </button>
    </div>
  </div>
  }


</section>
